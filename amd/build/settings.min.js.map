{"version":3,"sources":["../src/settings.js"],"names":["define","$","str","Notification","commanderSettings","log","console","apply","arguments","exc","init","$el","length","get_string","then","message","before","fail","exception","document","on","e","target","tagName","isContentEditable","keyboardCode","keyCode","which","text","key","ready"],"mappings":"AA4BAA,OAAM,4BAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,mBAAvB,CAAD,CAA8C,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAA+B,CAC/E,aAMA,GAAIC,CAAAA,CAAiB,CAAG,CAMpBC,GAAG,CAAE,cAAW,CAIZ,GAAI,CAEAC,OAAO,CAACD,GAAR,CAAYE,KAAZ,CAAkBD,OAAlB,CAA2BE,SAA3B,CACH,CAAC,MAAOC,CAAP,CAAY,CACV,KAAMA,CAAAA,CACT,CACJ,CAhBmB,CAqBpBC,IAAI,CAAE,eAAW,CACb,GAAIC,CAAAA,CAAG,CAAGV,CAAC,CAAC,4BAAD,CAAX,CAEA,GAAmB,CAAf,GAAAU,CAAG,CAACC,MAAR,CAAsB,CAClB,MACH,CAEDV,CAAG,CAACW,UAAJ,CAAe,iBAAf,CAAkC,iBAAlC,EAAqDC,IAArD,CAA0D,SAASC,CAAT,CAAkB,CACxEJ,CAAG,CAACK,MAAJ,CAAW,yDAAuDD,CAAvD,CAAiE,uBAA5E,EACA,MAAOA,CAAAA,CACV,CAHD,EAGGE,IAHH,CAGQd,CAAY,CAACe,SAHrB,EAKAjB,CAAC,CAACkB,QAAD,CAAD,CAAYC,EAAZ,CAAe,SAAf,CAA0B,SAASC,CAAT,CAAY,CAElC,GAAwB,OAApB,EAAAA,CAAC,CAACC,MAAF,CAASC,OAAT,EAAmD,QAApB,EAAAF,CAAC,CAACC,MAAF,CAASC,OAAxC,EACuB,UAApB,EAAAF,CAAC,CAACC,MAAF,CAASC,OADZ,EACqCF,CAAC,CAACC,MAAF,CAASE,iBADlD,CACqE,CACjEpB,CAAiB,CAACC,GAAlB,CAAsB,yCAAtB,EACA,MACH,CAED,GAAIoB,CAAAA,CAAY,CAAGJ,CAAC,CAACK,OAAF,EAAaL,CAAC,CAACM,KAAlC,CACA1B,CAAC,CAAC,kBAAD,CAAD,CAAsB2B,IAAtB,CAA2B,SAAWP,CAAC,CAACQ,GAAb,CAAmB,YAAnB,CAAkCJ,CAA7D,CACH,CAVD,CAWH,CA5CmB,CAAxB,CA+CA,MAAO,CAKHf,IAAI,CAAE,eAAW,CAKbT,CAAC,CAACkB,QAAD,CAAD,CAAYW,KAAZ,CAAkB,UAAW,CACzB1B,CAAiB,CAACC,GAAlB,CAAsB,yCAAtB,EACAD,CAAiB,CAACM,IAAlB,EACH,CAHD,CAIH,CAdE,CAgBV,CAtEK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Helper for keycodes\n *\n * Tested in Moodle 3.8\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n * @package local_commander\n * @copyright 2019 MFreak.nl\n * @author    Luuk Verhoeven\n **/\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\" , \"log\"] }] */\n/* eslint-disable no-invalid-this */\ndefine(['jquery', 'core/str', 'core/notification'], function($, str, Notification) {\n    'use strict';\n\n    /**\n     *\n     * @type {{}}\n     */\n    var commanderSettings = {\n\n        /**\n         * Internal logging\n         * @param {*} val\n         */\n        log: function() {\n            \"use strict\";\n\n            // Check if we can show the log.\n            try {\n                // TODO Only show if debugging enabled in cfg.\n                console.log.apply(console, arguments);\n            } catch (exc) {\n                throw exc;\n            }\n        },\n\n        /**\n         * Init\n         */\n        init: function() {\n            let $el = $('#id_s_local_commander_keys');\n\n            if ($el.length === 0) {\n                return;\n            }\n\n            str.get_string('js:keycode_help', 'local_commander').then(function(message) {\n                $el.before('<div class=\"alert alert-info\" id=\"key-monitor\"><b>' + message + '</b><div></div></div>');\n                return message;\n            }).fail(Notification.exception);\n\n            $(document).on('keydown', function(e) {\n\n                if (e.target.tagName == 'INPUT' || e.target.tagName == 'SELECT'\n                    || e.target.tagName == 'TEXTAREA' || e.target.isContentEditable) {\n                    commanderSettings.log('Hide when we are in an editable element');\n                    return;\n                }\n\n                let keyboardCode = e.keyCode || e.which;\n                $('#key-monitor div').text('key = ' + e.key + ' | code = ' + keyboardCode);\n            });\n        }\n    };\n\n    return {\n\n        /**\n         * Called from Moodle.\n         */\n        init: function() {\n\n            /**\n             * Wait for jQuery\n             */\n            $(document).ready(function() {\n                commanderSettings.log('ready() - setting local commander v3.82');\n                commanderSettings.init();\n            });\n        }\n    };\n});"],"file":"settings.min.js"}