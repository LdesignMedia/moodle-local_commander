{"version":3,"file":"settings.min.js","sources":["../src/settings.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Helper for keycodes\n *\n * Tested in Moodle 3.8\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @copyright 2019 MFreak.nl\n * @author    Luuk Verhoeven\n **/\n/* eslint-disable no-invalid-this */\ndefine(['jquery', 'core/str', 'core/notification', 'core/log'],\n    function($, str, Notification, Log) {\n    'use strict';\n\n    /**\n     * commanderSettings\n     */\n    const commanderSettings = {\n\n        /**\n         * Init\n         */\n        init: function() {\n            let $el = $('#id_s_local_commander_keys');\n\n            if ($el.length === 0) {\n                return;\n            }\n\n            str.get_string('js:keycode_help', 'local_commander').then(function(message) {\n                $el.before('<div class=\"alert alert-info\" id=\"key-monitor\"><b>' + message + '</b><div></div></div>');\n                return message;\n            }).fail(Notification.exception);\n\n            $(document).on('keydown', function(e) {\n\n                if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT'\n                    || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) {\n                    Log.debug('Hide when we are in an editable element');\n                    return;\n                }\n\n                let keyboardCode = e.keyCode || e.which;\n                $('#key-monitor div').text('key = ' + e.key + ' | code = ' + keyboardCode);\n            });\n        }\n    };\n\n    return {\n\n        /**\n         * Called from Moodle.\n         */\n        init: function() {\n\n            /**\n             * Wait for jQuery\n             */\n            $(document).ready(function() {\n                Log.debug('ready() - setting local commander v4.4');\n                commanderSettings.init();\n            });\n        }\n    };\n});\n"],"names":["define","$","str","Notification","Log","commanderSettings","$el","length","get_string","then","message","before","fail","exception","document","on","e","target","tagName","isContentEditable","debug","keyboardCode","keyCode","which","text","key","init","ready"],"mappings":";;;;;;;;;AAyBAA,kCAAO,CAAC,SAAU,WAAY,oBAAqB,aAC/C,SAASC,EAAGC,IAAKC,aAAcC,WAMzBC,uBAKI,eACEC,IAAML,EAAE,8BAEO,IAAfK,IAAIC,SAIRL,IAAIM,WAAW,kBAAmB,mBAAmBC,MAAK,SAASC,gBAC/DJ,IAAIK,OAAO,qDAAuDD,QAAU,yBACrEA,WACRE,KAAKT,aAAaU,WAErBZ,EAAEa,UAAUC,GAAG,WAAW,SAASC,MAEN,UAArBA,EAAEC,OAAOC,SAA4C,WAArBF,EAAEC,OAAOC,SACjB,aAArBF,EAAEC,OAAOC,SAA0BF,EAAEC,OAAOE,8BAC/Cf,IAAIgB,MAAM,+CAIVC,aAAeL,EAAEM,SAAWN,EAAEO,MAClCtB,EAAE,oBAAoBuB,KAAK,SAAWR,EAAES,IAAM,aAAeJ,yBAKlE,CAKHK,KAAM,WAKFzB,EAAEa,UAAUa,OAAM,WACdvB,IAAIgB,MAAM,0CACVf"}