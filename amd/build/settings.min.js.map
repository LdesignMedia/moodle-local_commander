{"version":3,"sources":["../src/settings.js"],"names":["define","$","str","commanderSettings","log","console","apply","arguments","exc","init","$el","length","get_string","then","message","before","document","on","e","target","tagName","isContentEditable","text","key","code","toLowerCase","ready"],"mappings":"AA4BAA,OAAM,4BAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAYC,CAAZ,CAAiB,CAC5C,aAMA,GAAIC,CAAAA,CAAiB,CAAG,CAMpBC,GAAG,CAAE,cAAW,CAIZ,GAAI,CAEAC,OAAO,CAACD,GAAR,CAAYE,KAAZ,CAAkBD,OAAlB,CAA2BE,SAA3B,CACH,CAAC,MAAOC,CAAP,CAAY,CACV,KAAMA,CAAAA,CACT,CACJ,CAhBmB,CAqBpBC,IAAI,CAAE,eAAW,CACb,GAAIC,CAAAA,CAAG,CAAGT,CAAC,CAAC,4BAAD,CAAX,CAEA,GAAmB,CAAf,GAAAS,CAAG,CAACC,MAAR,CAAsB,CAClB,MACH,CAEDT,CAAG,CAACU,UAAJ,CAAe,iBAAf,CAAkC,iBAAlC,EAAqDC,IAArD,CAA0D,SAASC,CAAT,CAAkB,CACxEJ,CAAG,CAACK,MAAJ,CAAW,yDAAuDD,CAAvD,CAAiE,uBAA5E,CACH,CAFD,EAIAb,CAAC,CAACe,QAAD,CAAD,CAAYC,EAAZ,CAAe,SAAf,CAA0B,SAASC,CAAT,CAAY,CAElC,GAAwB,OAApB,EAAAA,CAAC,CAACC,MAAF,CAASC,OAAT,EAAmD,QAApB,EAAAF,CAAC,CAACC,MAAF,CAASC,OAAxC,EACuB,UAApB,EAAAF,CAAC,CAACC,MAAF,CAASC,OADZ,EACqCF,CAAC,CAACC,MAAF,CAASE,iBADlD,CACqE,CACjElB,CAAiB,CAACC,GAAlB,CAAsB,yCAAtB,EACA,MACH,CAEDH,CAAC,CAAC,kBAAD,CAAD,CAAsBqB,IAAtB,CAA2B,SAAWJ,CAAC,CAACK,GAAb,CAAmB,YAAnB,CAAkCL,CAAC,CAACM,IAAF,CAAOC,WAAP,EAA7D,CACH,CATD,CAWH,CA3CmB,CAAxB,CA+CA,MAAO,CAKHhB,IAAI,CAAE,eAAW,CAKbR,CAAC,CAACe,QAAD,CAAD,CAAYU,KAAZ,CAAkB,UAAW,CACzBvB,CAAiB,CAACC,GAAlB,CAAsB,0CAAtB,EACAD,CAAiB,CAACM,IAAlB,EACH,CAHD,CAIH,CAdE,CAgBV,CAtEK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Helper for keycodes\n *\n * Tested in Moodle 3.8\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n * @package local_commander\n * @copyright 2019 MFreak.nl\n * @author    Luuk Verhoeven\n **/\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\" , \"log\"] }] */\n/* eslint-disable no-invalid-this */\ndefine(['jquery', 'core/str'], function($, str) {\n    'use strict';\n\n    /**\n     *\n     * @type {{}}\n     */\n    var commanderSettings = {\n\n        /**\n         * Internal logging\n         * @param {*} val\n         */\n        log: function() {\n            \"use strict\";\n\n            // Check if we can show the log.\n            try {\n                // TODO Only show if debugging enabled in cfg.\n                console.log.apply(console, arguments);\n            } catch (exc) {\n                throw exc;\n            }\n        },\n\n        /**\n         * Init\n         */\n        init: function() {\n            var $el = $('#id_s_local_commander_key1');\n\n            if ($el.length === 0) {\n                return;\n            }\n\n            str.get_string('js:keycode_help', 'local_commander').then(function(message) {\n                $el.before('<div class=\"alert alert-info\" id=\"key-monitor\"><b>' + message + '</b><div></div></div>');\n            });\n\n            $(document).on('keydown', function(e) {\n\n                if (e.target.tagName == 'INPUT' || e.target.tagName == 'SELECT'\n                    || e.target.tagName == 'TEXTAREA' || e.target.isContentEditable) {\n                    commanderSettings.log('Hide when we are in an editable element');\n                    return;\n                }\n                // @TODO check if its supported by edge.\n                $('#key-monitor div').text('key = ' + e.key + ' | code = ' + e.code.toLowerCase());\n            });\n\n        }\n\n    };\n\n    return {\n\n        /**\n         * Called from Moodle.\n         */\n        init: function() {\n\n            /**\n             * Wait for jQuery\n             */\n            $(document).ready(function() {\n                commanderSettings.log('ready() - setting local commander v3.8.0');\n                commanderSettings.init();\n            });\n        }\n    };\n});"],"file":"settings.min.js"}